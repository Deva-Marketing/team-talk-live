{"version":3,"sources":["index.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","startTimer","duration","display","minutes","seconds","timer","setInterval","parseInt","textContent","loadData","flipPlayer","pitch","id","player","first","front","back","$","hasClass","html","firstName","lastName","country","ext","attr","twitterHandel","replace","show","hide","removeClass","addClass","toggleClass","xml_main","XMLHttpRequest","open","addEventListener","status","data","JSON","parse","responseText","Goalkeeper","keywords","Forward","Manager","console","error","send","xml_defence","xml_midfield","document","ready","querySelector"],"mappings":"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","file":"index.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n/*jslint node: true, browser: true */\n'use strict';\n\nfunction startTimer(duration, display) {\n    var timer = duration, minutes, seconds;\n    \n    setInterval(function () {\n        minutes = parseInt(timer / 60, 10)\n        seconds = parseInt(timer % 60, 10);\n\n        minutes = minutes < 10 ? \"0\" + minutes : minutes;\n        seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n        display.textContent = minutes + \":\" + seconds;\n\n        if (--timer < 0) {\n            timer = duration;\n            loadData();\n        }\n    }, 1000);\n}\n\nfunction flipPlayer (pitch, id, player) {\n    // Retrieve current visible class\n    var first = false,\n        front = '',\n        back = '';\n    \n    if ($('#' + id + ' .front').hasClass('visible')) {\n        front = 'front'; \n        back = 'back';\n    } else if ($('#' + id + ' .back').hasClass('visible')) {\n        front = 'back'; \n        back = 'front'; \n    }\n    \n    // Check if value doesn't match\n    if ($('#' + id + ' .' + front + ' .name').html() != player.firstName + ' ' + player.lastName) {\n        // Check if first loading\n        if ($('#' + id + ' .' + front + ' .name').html() == 'Name') {\n            // Set flag\n            first = true;\n            \n            // Force data\n            front = 'back'; \n            back = 'front'; \n        }\n        \n        // Set back data\n        $('#' + id + ' .' + back + ' .name').html(player.firstName + ' ' + player.lastName);\n        $('#' + id + ' .' + back + ' .country').html(player.country);\n        \n        if (pitch) {\n            var ext = '.png'\n        \n            if (id == 'gk-1') {\n                ext = '_gk' + ext;\n            }\n\n            $('#' + id + ' .' + back + ' .shirt img').attr(\"src\", \"image/teams/\" + player.country + ext);\n            \n            if (player.twitterHandel != '') {\n                 $('#' + id + ' .' + back + ' .twitter').html('<a href=\"https://twitter.com/' + player.twitterHandel.replace(\"@\", \"\") +'\">' + player.twitterHandel + '</a>');\n                 $('#' + id + ' .' + back + ' .twitter').show();\n            } else {\n                $('#' + id + ' .' + back + ' .twitter').hide();\n                $('#' + id + ' .' + back + ' .twitter').html('');\n            }\n        }\n\n        // Flip content (if not initial)\n        if (!first) {\n            $('#' + id + ' .' + front).removeClass('visible');\n            $('#' + id + ' .' + back).addClass('visible');\n            $('#' + id).toggleClass('flip');\n        }\n    }\n}\n\nfunction loadData() {     \n    /* ----- MAIN ----- */\n    var xml_main = new XMLHttpRequest();\n    \n    xml_main.open('GET', 'https://teamtalk.live/tweets/percentages.json', true);\n\n    xml_main.addEventListener('load', function () {\n        if (xml_main.status === 200) {\n            var data = JSON.parse(xml_main.responseText);\n\n            flipPlayer(true, 'gk-1', data.Goalkeeper.keywords[0]);\n            flipPlayer(false, 'gk-2', data.Goalkeeper.keywords[1]);\n            flipPlayer(false, 'gk-3', data.Goalkeeper.keywords[2]);\n            flipPlayer(false, 'gk-4', data.Goalkeeper.keywords[3]);\n            \n            flipPlayer(true, 'st-1', data.Forward.keywords[0]);\n            flipPlayer(true, 'st-2', data.Forward.keywords[1]);\n            flipPlayer(false, 'st-3', data.Forward.keywords[2]);\n            flipPlayer(false, 'st-4', data.Forward.keywords[3]);\n            flipPlayer(false, 'st-5', data.Forward.keywords[4]);\n            \n            flipPlayer(false, 'mn-1', data.Manager.keywords[0]);\n            flipPlayer(false, 'mn-2', data.Manager.keywords[1]);\n        } else {\n            console.error('Failed to get main data.');\n        }\n    });\n    \n    xml_main.send();\n    /* ----- END MAIN ----- */\n\n    \n    /* ----- DEFENDERS ----- */\n    var xml_defence = new XMLHttpRequest();\n    \n    xml_defence.open('GET', 'https://defence.teamtalk.live/tweets/percentages.json', true);\n    \n    xml_defence.addEventListener('load', function () {\n        if (xml_defence.status === 200) {\n            var data = JSON.parse(xml_defence.responseText);\n            \n            flipPlayer(true, 'df-1', data['Right Back'].keywords[0]);\n            flipPlayer(true, 'df-2', data['Centre Back'].keywords[0]);\n            flipPlayer(true, 'df-3', data['Centre Back'].keywords[1]);\n            flipPlayer(true, 'df-4', data['Left Back'].keywords[0]);\n            flipPlayer(false, 'df-5', data['Right Back'].keywords[1]);\n            flipPlayer(false, 'df-6', data['Centre Back'].keywords[2]);\n            flipPlayer(false, 'df-7', data['Left Back'].keywords[1]);\n        } else {\n            console.error('Failed to get defenders data.');\n        }\n    });\n    \n    xml_defence.send();\n    /* ----- END DEFENDERS ----- */\n    \n    \n    /* ----- MIDFIELDERS ----- */\n    var xml_midfield = new XMLHttpRequest();\n    \n    xml_midfield.open('GET', 'https://midfield.teamtalk.live/tweets/percentages.json', true);\n    \n    xml_midfield.addEventListener('load', function () {\n        if (xml_midfield.status === 200) {\n            var data = JSON.parse(xml_midfield.responseText);\n            \n            flipPlayer(true, 'mf-1', data['Right Midfield'].keywords[0]);\n            flipPlayer(true, 'mf-2', data['Centre Midfield'].keywords[0]);\n            flipPlayer(true, 'mf-3', data['Centre Midfield'].keywords[1]);\n            flipPlayer(true, 'mf-4', data['Left Midfield'].keywords[0]);\n            flipPlayer(false, 'mf-5', data['Right Midfield'].keywords[1]);\n            flipPlayer(false, 'mf-6', data['Centre Midfield'].keywords[2]);\n            flipPlayer(false, 'mf-7', data['Left Midfield'].keywords[1]);\n        } else {\n            console.error('Failed to get midfielders data.');\n        }\n    });\n    \n    xml_midfield.send();\n    /* ----- END MIDFIELDERS ----- */   \n}\n\n$(document).ready(function() {\n    // Start timer\n    var minutes = 60 * 0.5,\n        display = document.querySelector('#time');\n    \n    startTimer(minutes, display);\n    \n    // Load data\n    loadData();\n});\n},{}]},{},[1]);\n"],"sourceRoot":"/source/"}